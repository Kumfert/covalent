<md-card>
  <md-card-title>NGX-Translate (External library)</md-card-title>
  <md-card-subtitle>i18n library for Angular</md-card-subtitle>
  <md-divider></md-divider>
  <md-card-content>
    TODO Information about ngx-translate
  </md-card-content>
  <md-divider></md-divider>
  <md-card-actions>
    <a md-button color="accent" href="https://github.com/ngx-translate/core" target="_blank">View NGX-Translate Docs</a>
    <button md-button color="primary" *ngIf="selectedLanguage === 'en'" (click)="languageChange('es')">See demos in spanish</button>
    <button md-button color="primary" *ngIf="selectedLanguage === 'es'" (click)="languageChange('en')">See demos in english</button>
  </md-card-actions>
</md-card>
<md-card>
  <md-card-title>{{ 'DEMO_ONE.TITLE' | translate }}</md-card-title>
  <md-card-subtitle>{{ 'DEMO_ONE.SUBTITLE' | translate }}</md-card-subtitle>
  <md-divider></md-divider>
  <md-card-content>
    <md-tab-group md-stretch-tabs>
      <md-tab [label]="'DEMO_TAB' | translate">
        <div layout="row" layout-align="start center" layout-padding>
          <md-select [(ngModel)]="valueCountForPlural" [mdTooltip]="'DEMO_ONE.SELECT_TOOLTIP' | translate" flex="40">
            <md-option [value]="0">0</md-option>
            <md-option [value]="1">1</md-option>
            <md-option [value]="4">4</md-option>
            <md-option [value]="10">10</md-option>
          </md-select>
          <span flex="5"></span>
          <div [ngPlural]="valueCountForPlural">
            <template ngPluralCase="=undefined">{{ 'DEMO_ONE.COUNT_UNSELECTED' | translate }}</template>
            <template ngPluralCase="=0">{{ 'DEMO_ONE.COUNT_NONE' | translate }}</template>
            <template ngPluralCase="=1">{{ 'DEMO_ONE.COUNT_SINGLE' | translate }}</template>
            <template ngPluralCase="other">{{ 'DEMO_ONE.COUNT_PLURAL' | translate:{value: valueCountForPlural} }}</template>
          </div>
        </div>
      </md-tab>
      <md-tab [label]="'CODE_TAB' | translate">
        <p>HTML:</p>
        <td-highlight lang="html">
          <![CDATA[
            <div layout="row" layout-align="start center" layout-padding>
              <md-select [(ngModel)]="valueCountForPlural" [mdTooltip]="'DEMO_ONE.SELECT_TOOLTIP' | translate" flex="40">
                <md-option [value]="0">0</md-option>
                <md-option [value]="1">1</md-option>
                <md-option [value]="4">4</md-option>
                <md-option [value]="10">10</md-option>
              </md-select>
              <span flex="5"></span>
              <div [ngPlural]="valueCountForPlural">
                <template ngPluralCase="=undefined">{{ 'DEMO_ONE.COUNT_UNSELECTED' | translate }}</template>
                <template ngPluralCase="=0">{{ 'DEMO_ONE.COUNT_NONE' | translate }}</template>
                <template ngPluralCase="=1">{{ 'DEMO_ONE.COUNT_SINGLE' | translate }}</template>
                <template ngPluralCase="other">{{ 'DEMO_ONE.COUNT_PLURAL' | translate:{value: valueCountForPlural} }}</template>
              </div>
            </div>
          ]]>
        </td-highlight>
        <p>Typescript:</p>
        <td-highlight lang="typescript">
          <![CDATA[
            import { TranslateService } from 'ng2-translate';
            ...
            export class MyAppComponent {

              constructor(private _translateService: TranslateService) {
                // Set fallback language
                this._translateService.setDefaultLang('en');

                // Supported languages
                this._translateService.addLangs(['en', 'es']);

                // Get selected language and load it
                this._translateService.use(translateService.getBrowserLang());
              }
            }
          ]]>
        </td-highlight>
        <p>JSON (en):</p>
        <td-highlight lang="json">
          <![CDATA[
            {
              "DEMO_ONE": {
                "SELECT_TOOLTIP": "When this value changes, [ngPlural] kicks in to select the correct message",
                "COUNT_UNSELECTED": "Select a value",
                "COUNT_NONE": "There are no values",
                "COUNT_SINGLE": "There is one value",
                "COUNT_PLURAL": "There are {{value}} values"
              }
            }
          ]]>
        </td-highlight>
        <p>JSON (es):</p>
        <td-highlight lang="json">
          <![CDATA[
            {
              "DEMO_ONE": {
                "SELECT_TOOLTIP": "Cuando este valor cambia, [ngPlural] lo lee para seleccionar el mensaje correcto",
                "COUNT_UNSELECTED": "Seleccione un valor",
                "COUNT_NONE": "No hay valores seleccionados",
                "COUNT_SINGLE": "Hay un valor seleccionado",
                "COUNT_PLURAL": "Hay {{value}} valores seleccionados"
              }
            }
          ]]>
        </td-highlight>
      </md-tab>
    </md-tab-group>
  </md-card-content>
</md-card>
<md-card>
  <md-card-title>{{ 'DEMO_TWO.TITLE' | translate }}</md-card-title>
  <md-card-subtitle>{{ 'DEMO_TWO.SUBTITLE' | translate }}</md-card-subtitle>
  <md-divider></md-divider>
  <md-card-content>
    <md-tab-group md-stretch-tabs>
      <md-tab [label]="'DEMO_TAB' | translate">
        <md-list>
          <md-list-item>
            <md-icon md-list-avatar>person</md-icon>
            <h4 md-line>Any person</h4>
            <p translate [translateParams]="{value: (123000020 | number)}" md-line>DEMO_TWO.BALANCE</p>
            <span flex="50">{{dateToFormat | date:'medium'}}</span>
          </md-list-item>
          <md-list-item>
            <md-icon md-list-avatar>person</md-icon>
            <h4 md-line>Another person</h4>
            <p translate [translateParams]="{value: (1000.20 | number:'1.2-2')}" md-line>DEMO_TWO.BALANCE</p>
            <span flex="50">{{dateToFormat | date:'medium'}}</span>
          </md-list-item>
        </md-list>
      </md-tab>
      <md-tab [label]="'CODE_TAB' | translate">
        <p>HTML:</p>
        <td-highlight lang="html">
          <![CDATA[
            <md-list>
              <md-list-item>
                <md-icon md-list-avatar>person</md-icon>
                <h4 md-line>Any person</h4>
                <p translate [translateParams]="{value: (123000020 | number)}" md-line>DEMO_TWO.BALANCE</p>
                <span flex="50">{{dateToFormat | date:'medium'}}</span>
              </md-list-item>
              <md-list-item>
                <md-icon md-list-avatar>person</md-icon>
                <h4 md-line>Another person</h4>
                <p translate [translateParams]="{value: (1000.20 | number:'1.2-2')}" md-line>DEMO_TWO.BALANCE</p>
                <span flex="50">{{dateToFormat | date:'medium'}}</span>
              </md-list-item>
            </md-list>
          ]]>
        </td-highlight>
        <p>Typescript (NgModule):</p>
        <td-highlight lang="typescript">
          <![CDATA[
            import { LOCALE_ID } from '@angular/core';
            ...
            export function getSelectedLanguage(translateService: TranslateService): string {
              return translateService.getBrowserLang();
            }
            ...
            providers: [{
                // Configure LOCALE_ID depending on the language set in browser
                provide: LOCALE_ID, useFactory: getSelectedLanguage, deps: [TranslateService],
              },
            ], 
          ]]>
        </td-highlight>
        <p>JSON (en):</p>
        <td-highlight lang="json">
          <![CDATA[
            {
              "DEMO_TWO": {
                "BALANCE" : "account balance: {{value}}"
              }
            }
          ]]>
        </td-highlight>
        <p>JSON (es):</p>
        <td-highlight lang="json">
          <![CDATA[
            {
              "DEMO_TWO": {
                "BALANCE" : "estado de cuenta: {{value}}"
              }
            }
          ]]>
        </td-highlight>
      </md-tab>
    </md-tab-group>
  </md-card-content>
</md-card>
<md-card>
  <md-card-title>{{ 'DEMO_THREE.TITLE' | translate }}</md-card-title>
  <md-card-subtitle>{{ 'DEMO_THREE.SUBTITLE' | translate }}</md-card-subtitle>
  <md-divider></md-divider>
  <md-card-content>
    <md-tab-group md-stretch-tabs>
      <md-tab [label]="'DEMO_TAB' | translate">
        <button md-button color="accent" (click)="openAlert()">{{'DEMO_THREE.OPEN_ALERT' | translate}}</button>
      </md-tab>
      <md-tab [label]="'CODE_TAB' | translate">
        <p>HTML:</p>
        <td-highlight lang="html">
          <![CDATA[
           <button md-button color="accent" (click)="openAlert()">{{'DEMO_THREE.OPEN_ALERT' | translate}}</button>
          ]]>
        </td-highlight>
        <p>Typescript:</p>
        <td-highlight lang="typescript">
          <![CDATA[
            import { TranslateService } from 'ng2-translate';
            import { TdDialogService } from '@covalent/core';
            ...
            export class MyAppComponent {

              constructor(private _translateService: TranslateService,
                          private _dialogService: TdDialogService) {
                // Set fallback language
                this._translateService.setDefaultLang('en');

                // Supported languages
                this._translateService.addLangs(['en', 'es']);

                // Get selected language and load it
                this._translateService.use(translateService.getBrowserLang());
              }

              openAlert(): void {
                this._translateService.get('DEMO_THREE.ALERT').subscribe((messages: any) => {
                  this._dialogService.openAlert({
                    title: messages.TITLE,
                    message: messages.MESSAGE,
                    closeButton: messages.CLOSE,
                  });
                });
              }
            }
          ]]>
        </td-highlight>
        <p>JSON (en):</p>
        <td-highlight lang="json">
          <![CDATA[
            "DEMO_THREE": {
              "OPEN_ALERT": "Open alert",
              "ALERT": {
                "TITLE" : "Alert",
                "MESSAGE" : "This is a translated message.",
                "CLOSE": "Close"
              }
            }
          ]]>
        </td-highlight>
        <p>JSON (es):</p>
        <td-highlight lang="json">
          <![CDATA[
            "DEMO_THREE": {
              "OPEN_ALERT": "Abrir alerta",
              "ALERT": {
                "TITLE" : "Alerta",
                "MESSAGE" : "Este es un mensaje traducido.",
                "CLOSE": "Cerrar"
              }
            }
          ]]>
        </td-highlight>
      </md-tab>
    </md-tab-group>
  </md-card-content>
</md-card>